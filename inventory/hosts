localhost:
all:
  children:
    all_nodes:
      hosts:
        allyrion:
        bettley:
        cargyll:
        dalt:
        erenford:
        fenn:
        gardener:
        harlton:
        inchfield:
        jast:
    docker:
      children:
        load_balancer:
    k8s_cluster:
      children:
        k8s_control_plane:
          hosts:
            bettley:
            cargyll:
            dalt:
        k8s_worker:
          hosts:
            erenford:
            fenn:
            gardener:
            harlton:
            inchfield:
            jast:
    load_balancer:
      hosts:
        allyrion:
    nfs_server:
      children:
        load_balancer:
    prometheus:
      children:
        load_balancer:
    slurm:
      children:
        slurm_controller:
          children:
            k8s_control_plane:
        slurm_compute:
          children:
            k8s_control_plane:
            k8s_worker:
    consul:
      children:
        consul_server:
          children:
            k8s_control_plane:
        consul_client:
          children:
            load_balancer:
            k8s_worker:
    vault:
      children:
        consul_server:
